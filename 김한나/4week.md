# 4week : ES5 모듈패턴을 알아보기

Date Created: December 31, 2022 1:18 PM

# 모듈

모듈(module) 이라는 것은 전체 애플리케이션의 일부를 독립된 코드로 분리해서 만들어 놓은 것을 말한다. 관련된 유용한 기능을 모아둔 모듈이라 할 수 있으며 크게는 jQuery 와 같은 라이브러리도 모듈이라 할 수 있다.

자바스크립트에서는 모듈을 구현하는 가장 쉬운 방법은 객체 리터럴을 사용하는 방법이다.

```jsx
var module = {
  key: 'value',
  pulicMethod: function () {},
};
```

또 다른 사용방법은 독립된 코드를 파일로 분리하여 `export`와 `import`를 적용하면 다른 모듈을 불러와 불러온 모듈에 있는 함수를 호출하는 것과 같은 기능 공유가 가능하다.

# **모듈패턴이란?**

모듈 패턴은 JavaScript 에서 중요한 패턴 중 하나이며 가장 일반적으로 사용되는 **디자인 패턴**이다. 프로젝트의 **코드 단위를 명확하게 분리하고 구성**하는데 큰 도움이 된다.

클래스를 모방해서 관련이 있는 변수와 함수를 모아 즉시실행함수()로 감싸서 하나의 모듈을 만들어 **클로저를 기반**으로 동작한다.

```jsx
var Counter = (function () {
  //즉시실행함수로 감싼다
  // private 변수
  var num = 0;

  // 클로저
  //외부로 공개할 데이터나 메서드를 프로퍼티로 추가한 객체를 반환한다.
  return {
    increase() {
      return ++num;
    },
    decrease() {
      return --num;
    },
  };
})();

// private 변수는 외부로 노출되지 않는다.
console.log(Counter.num); // undefined

console.log(Counter.increase()); // 1
console.log(Counter.increase()); // 2
console.log(Counter.decrease()); // 1
console.log(Counter.decrease()); // 0
```

# **모듈패턴을 쓰는 이유와 특징**

<aside>
💡 자바스크립트는 private 등의 접근 제한자가 없기때문에 클로저를 모듈패턴을 활용하여 이러한 특징들을 흉내내는 것이다.

</aside>

## 1. 캡슐화

캡슐화, 즉 **정보은닉**을 구현하기 위해서 모듈패턴을 사용한다.

따라서 이에 따른 오류로부터 보다 안전하게 값을 보호할 수 있다. **클로저**를 통해 불필요한 전역 변수 사용을 줄이고, **스코프**를 이용해 값을 보다 안전하게 다룰 수 있다.

또한 모든 관련 코드를 단일 논리 블록에 캡슐화할 수 있으므로 **유지 관리**가 더 쉬워집니다.

캡슐화는 객체의 상태를 데이터와 기능을 하나의 단위로 묶는 것입니다. **하나의 객체 안에 넣어서 묶는 것.**데이터(속성)와 기능(메서드)들을 느슨한 결합에 유리하다.

## 2. 전역변수의 억제

전역 변수가 좋지 않은 이유는, 전역 변수는 다른 함수 혹은 로직 등에 의해 의도되지 않은 변경을 초래하는 **side effect**때문인데 side effect를 최소화하면, **의도되지 않은 변경을 줄일 수 있다.**특정 속성과 기능을 공개로 노출하고 개체 자체 내에서 속성과 기능의 범위를 제한하여 `private`로 만들 수도 있다.그렇기 때문에 해당 변수는 함수 범위 외부에서 액세스할 수 없다. 이를 통해서 **전역 스코프의 변수들과 이름이 충돌하는 문제를 줄일 수 있다.**

## 3. 재사용성

단일 코드 단위를 전체 애플리케이션에서 **재사용**할 수 있다. 모듈로 묶인 기능은 재사용할 수 있으며 여러 지점에서 동일한 기능을 정의할 필요가 없다.
